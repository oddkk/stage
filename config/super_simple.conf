version 0.1.0;

# device_type test_type(foo: int, bar: $T[$N], T: type, N: int) {
# }

# device_type test_out(T: type, value: $T) {
# 	output out: T;
# 	out <- value;
# }

# device_type test_type(foo: int, bar: int[$N], baz: $T, N: int, T: type) {
# 	input asdf: T;
# }

# device test_type(bar = [2, 4], foo = 3, baz = 3);

device midi.novation.launchpad lp {}

device basic.constant foo(value=[0, 1, 2, 3, 0, 1, 2, 3]);

# lp.button_color[..][..].red <- foo.out[2];

# lp.button_color[0][..].red <- foo.out[..];
# lp.button_color[1][..].red <- foo.out[..];
# lp.button_color[2][..].red <- foo.out[..];
# lp.button_color[3][..].red <- foo.out[..];
# lp.button_color[4][..].red <- foo.out[..];
# lp.button_color[5][..].red <- foo.out[..];
# lp.button_color[6][..].red <- foo.out[..];
# lp.button_color[7][..].red <- foo.out[..];

# lp.button_color[..][0].green <- foo.out[..];
# lp.button_color[..][1].green <- foo.out[..];
# lp.button_color[..][2].green <- foo.out[..];
# lp.button_color[..][3].green <- foo.out[..];
# lp.button_color[..][4].green <- foo.out[..];
# lp.button_color[..][5].green <- foo.out[..];
# lp.button_color[..][6].green <- foo.out[..];
# lp.button_color[..][7].green <- foo.out[..];

lp.button_color[..][..].red   <- lp.button_down[..][..];
lp.button_color[0..4][..].green <- lp.button_down[4..8][..];
lp.button_color[4..8][..].green <- lp.button_down[0..4][..];
